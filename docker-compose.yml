version: '3'
services:
  web:
    image: 'nginx:1.17.10-alpine'
    ports:
      - '80:80/tcp'
      - '443:443/tcp'
    volumes:
      - 'data:/usr/share/nginx/html/db/'
      - './client:/usr/share/nginx/html/'
    environment:
      NGINX_PORT: '80'
  grpc:
    build:
      context: '.'
      dockerfile: './server/Dockerfile'
    ports:
      - '3000:3000/tcp'
    volumes:
      - 'data:/db/'
volumes:
  data:

